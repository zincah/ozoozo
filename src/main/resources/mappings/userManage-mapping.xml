<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="UserDAO">

	<!-- 회원 생성 -->
	<insert id="insertUser" parameterType="user">
		INSERT INTO user_table(user_num, user_email, user_pw, nickname) VALUES 
		((select coalesce(max(user_num), 100000)+1 from user_table), #{user_email}, #{user_pw}, #{nickname})
	</insert>
	
	<!-- 회원가입 -->
	<select id="checkUser" resultType="user">
		SELECT * FROM user_table
		WHERE user_email = #{user_email}
	</select>
	
	<!-- 이메일 중복체크 -->
	<select id="Duplicate_Check_Email" resultType="user">
		SELECT user_email FROM user_table WHERE user_email = #{user_email}
	</select>
	
	<!-- 닉네임 중복체크 -->
	<select id="Duplicate_Check_Nickname" resultType="user">
		SELECT nickname FROM user_table WHERE nickname = #{nickname}
	</select>

</mapper>